---
# Usage:
#   Normal deploy:    ansible-playbook playbooks/deploy.yml
#   App only:         ansible-playbook playbooks/deploy.yml --tags app_deploy
#   Wipe only:        ansible-playbook playbooks/deploy.yml -e "web_app_wipe=true" --tags web_app_wipe
#   Clean reinstall:  ansible-playbook playbooks/deploy.yml -e "web_app_wipe=true"

- name: Deploy web application
  hosts: webservers
  become: true
  gather_facts: true

  roles:
    - role: web_app
      tags: [web_app]
